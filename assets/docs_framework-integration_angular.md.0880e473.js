import{_ as s,o as n,c as a,X as o}from"./chunks/framework.319defb2.js";const u=JSON.parse('{"title":"Angular Integration","description":"Learn how to wrap your components so that people can use them natively in Angular","frontmatter":{"description":"Learn how to wrap your components so that people can use them natively in Angular"},"headers":[],"relativePath":"docs/framework-integration/angular.md","filePath":"docs/framework-integration/angular.md"}'),e={name:"docs/framework-integration/angular.md"},l=o(`<h1 id="angular-integration" tabindex="-1">Angular Integration <a class="header-anchor" href="#angular-integration" aria-label="Permalink to &quot;Angular Integration&quot;">​</a></h1><p><strong>Supports: Angular 12+ • TypeScript 4.0+ • Stencil v2.9.0+</strong></p><p>Stencil can generate Angular component wrappers for your web components. This allows your Stencil components to be used within an Angular application. The benefits of using Stencil&#39;s component wrappers over the standard web components include:</p><ul><li>Angular component wrappers will be detached from change detection, preventing unnecessary repaints of your web component.</li><li>Web component events will be converted to RxJS observables to align with Angular&#39;s <code>@Output()</code> and will not emit across component boundaries.</li><li>Optionally, form control web components can be used as control value accessors with Angular&#39;s reactive forms or <code>[ngModel]</code>.</li><li>It is not necessary to include the <a href="https://angular.io/api/core/CUSTOM_ELEMENTS_SCHEMA" target="_blank" rel="noreferrer">Angular <code>CUSTOM_ELEMENTS_SCHEMA</code></a> in all modules consuming your Stencil components.</li></ul><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup&quot;">​</a></h2><h3 id="project-structure" tabindex="-1">Project Structure <a class="header-anchor" href="#project-structure" aria-label="Permalink to &quot;Project Structure&quot;">​</a></h3><p>We recommend using a <a href="https://www.toptal.com/front-end/guide-to-monorepos" target="_blank" rel="noreferrer">monorepo</a> structure for your component library with component wrappers. Your project workspace should contain your Stencil component library and the library for the generated Angular component wrappers.</p><p>An example project set-up may look similar to:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">top-most-directory/</span></span>
<span class="line"><span style="color:#A6ACCD;">└── packages</span></span>
<span class="line"><span style="color:#A6ACCD;">    ├── stencil-library/</span></span>
<span class="line"><span style="color:#A6ACCD;">    │   ├── stencil.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">    │   └── src/components</span></span>
<span class="line"><span style="color:#A6ACCD;">    └── angular-workspace/</span></span>
<span class="line"><span style="color:#A6ACCD;">        └── projects/</span></span>
<span class="line"><span style="color:#A6ACCD;">            └── component-library/</span></span>
<span class="line"><span style="color:#A6ACCD;">                └── src/</span></span>
<span class="line"><span style="color:#A6ACCD;">                    ├── lib/</span></span>
<span class="line"><span style="color:#A6ACCD;">                    └── public-api.ts</span></span></code></pre></div><p>This guide uses Lerna for the monorepo, but you can use other solutions such as Nx, TurboRepo, etc.</p><p>To use Lerna with this walk through, globally install Lerna:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lerna</span></span></code></pre></div><h4 id="creating-a-monorepo" tabindex="-1">Creating a Monorepo <a class="header-anchor" href="#creating-a-monorepo" aria-label="Permalink to &quot;Creating a Monorepo&quot;">​</a></h4><div class="info custom-block"><p class="custom-block-title">提示</p><p>If you already have a monorepo, skip this section.</p></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># From your top-most-directory/, initialize a workspace</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">lerna</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># install dependencies</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># install typescript and node types</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">typescript</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@types/node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span></code></pre></div><h4 id="creating-a-stencil-component-library" tabindex="-1">Creating a Stencil Component Library <a class="header-anchor" href="#creating-a-stencil-component-library" aria-label="Permalink to &quot;Creating a Stencil Component Library&quot;">​</a></h4><div class="info custom-block"><p class="custom-block-title">提示</p><p>If you already have a Stencil component library, skip this section.</p></div><p>In the <code>packages/</code> directory, run the following commands to generate a Stencil component library:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stencil</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">components</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stencil-library</span></span>
<span class="line highlighted"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stencil-library</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Install dependencies</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><h4 id="creating-an-angular-component-library" tabindex="-1">Creating an Angular Component Library <a class="header-anchor" href="#creating-an-angular-component-library" aria-label="Permalink to &quot;Creating an Angular Component Library&quot;">​</a></h4><div class="info custom-block"><p class="custom-block-title">提示</p><p>If you already have an Angular component library, skip this section.</p></div><p>The first time you want to create the component wrappers, you will need to have an Angular library package to write to.</p><p>In the <code>packages/</code> directory, use the Angular CLI to generate a workspace and a library for your Angular component wrappers:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@angular/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ng</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">angular-workspace</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--no-create-application</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">angular-workspace</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@angular/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ng</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">generate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">library</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">component-library</span></span></code></pre></div><p>You can delete the <code>component-library.component.ts</code>, <code>component-library.service.ts</code>, and <code>*.spec.ts</code> files.</p><p>You will also need to add your generated Stencil library as a peer-dependency so import references can be resolved correctly:</p><div class="language-diff"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// packages/angular-workspace/projects/component-library/package.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">&quot;peerDependencies&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">   &quot;@angular/common&quot;: &quot;^15.1.0&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">  &quot;@angular/core&quot;: &quot;^15.1.0&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">  &quot;@angular/core&quot;: &quot;^15.1.0&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">  &quot;stencil-library&quot;: &quot;*&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>For more information, see the Lerna documentation on <a href="https://lerna.js.org/docs/getting-started#package-dependency-management" target="_blank" rel="noreferrer">package dependency management</a>.</p><div class="info custom-block"><p class="custom-block-title">提示</p><p>The Angular CLI will install Jasmine as a dependency to your Angular workspace. However, Stencil uses Jest as it&#39;s unit testing solution. To avoid type definition collisions when attempting to build your Stencil project, you can remove <code>jasmine-core</code> and <code>@types/jasmine</code> as dependencies in the Angular workspace <code>package.json</code> file:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># from \`/packages/angular-workspace\`</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uninstall</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jasmine-core</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@types/jasmine</span></span></code></pre></div></div><h3 id="adding-the-angular-output-target" tabindex="-1">Adding the Angular Output Target <a class="header-anchor" href="#adding-the-angular-output-target" aria-label="Permalink to &quot;Adding the Angular Output Target&quot;">​</a></h3><p>Install the <code>@stencil/angular-output-target</code> dependency to your Stencil component library package.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Install dependency</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@stencil/angular-output-target</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span></code></pre></div><p>In your project&#39;s <code>stencil.config.ts</code>, add the <code>angularOutputTarget</code> configuration to the <code>outputTargets</code> array:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">angularOutputTarget</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@stencil/angular-output-target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stencil-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">outputTargets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// By default, the generated proxy components will</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// leverage the output from the \`dist\` target, so we</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// need to explicitly define that output alongside the</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Angular target</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">angularOutputTarget</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">componentCorePackage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stencil-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">directivesProxyFile</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../angular-workspace/projects/component-library/src/lib/stencil-generated/components.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">directivesArrayFile</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../angular-workspace/projects/component-library/src/lib/stencil-generated/index.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The <code>directivesProxyFile</code> is the relative path to the file that will be generated with all of the Angular component wrappers. You will replace the file path to match your project&#39;s structure and respective names. You can generate any file name instead of <code>components.ts</code>.</p><p>The <code>directivesArrayFile</code> is the relative path to the file that will be generated with a constant of all the Angular component wrappers. This constant can be used to easily declare and export all the wrappers.</p><p>The <code>componentCorePackage</code> should match the <code>name</code> field in your Stencil project&#39;s <code>package.json</code></p></div><p>See the <a href="#api">API section below</a> for details on each of the output target&#39;s options.</p><p>You can now build your Stencil component library to generate the component wrappers.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Build the library and wrappers</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span></span></code></pre></div><p>If the build is successful, you will now have contents in the file specified in <code>directivesProxyFile</code> and <code>directivesArrayFile</code>.</p><p>You can now finally import and export the generated component wrappers for your component library. For example, in your library&#39;s main Angular module:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// component-library.module.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">DIRECTIVES</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./stencil-generated</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">NgModule</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">declarations</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">DIRECTIVES]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">exports</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">DIRECTIVES]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ComponentLibraryModule</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span></code></pre></div><p>Any components that are included in the <code>exports</code> array should additionally be exported in your main entry point (either <code>public-api.ts</code> or <code>index.ts</code>). Skipping this step will lead to Angular Ivy errors when building for production. For this guide, simply add the following line to the automatically generated <code>public-api.ts</code> file:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// public-api.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./lib/component-library.module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">DIRECTIVES</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./lib/stencil-generated</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./lib/stencil-generated/components</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="registering-custom-elements" tabindex="-1">Registering Custom Elements <a class="header-anchor" href="#registering-custom-elements" aria-label="Permalink to &quot;Registering Custom Elements&quot;">​</a></h3><p>The default behavior for this output target does not handle automatically defining/registering the custom elements. One strategy (and the approach the <a href="https://github.com/ionic-team/ionic-framework/blob/main/angular/src/app-initialize.ts#L21-L34" target="_blank" rel="noreferrer">Ionic Framework</a> takes) is to use the loader to define all custom elements during app initialization:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// component-library.module.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">APP_INITIALIZER</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">NgModule</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@angular/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineCustomElements</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">stencil-library/loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">NgModule</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">providers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">provide</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> APP_INITIALIZER</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">useFactory</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> defineCustomElements</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">multi</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ComponentLibraryModule</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span></code></pre></div><p>See the <a href="./../output-targets/dist.html#distribution-options">documentation</a> for more information on defining custom elements using the <code>dist</code> output target, or <a href="#do-i-have-to-use-the-dist-output-target">update the Angular output target</a> to use <code>dist-custom-elements</code>.</p><h3 id="link-your-packages-optional" tabindex="-1">Link Your Packages (Optional) <a class="header-anchor" href="#link-your-packages-optional" aria-label="Permalink to &quot;Link Your Packages (Optional)&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">提示</p><p>If you are using a monorepo tool (Lerna, Nx, etc.), skip this section.</p></div><p>Before you can successfully build a local version of your Angular component library, you will need to link the Stencil package to the Angular package.</p><p>From your Stencil project&#39;s directory, run the following command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Link the working directory</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">link</span></span></code></pre></div><p>From your Angular component library&#39;s directory, run the following command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Link the package name</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">link</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">name-of-your-stencil-package</span></span></code></pre></div><p>The name of your Stencil package should match the <code>name</code> property from the Stencil component library&#39;s <code>package.json</code>.</p><p>Your component libraries are now linked together. You can make changes in the Stencil component library and run <code>npm run build</code> to propagate the changes to the Angular component library.</p><div class="info custom-block"><p class="custom-block-title">提示</p><p>As an alternative to <code>npm link</code> , you can also run <code>npm install</code> with a relative path to your Stencil component library. This strategy, however, will modify your <code>package.json</code> so it is important to make sure you do not commit those changes.</p></div><h2 id="consumer-usage" tabindex="-1">Consumer Usage <a class="header-anchor" href="#consumer-usage" aria-label="Permalink to &quot;Consumer Usage&quot;">​</a></h2><h3 id="creating-a-consumer-angular-app" tabindex="-1">Creating a Consumer Angular App <a class="header-anchor" href="#creating-a-consumer-angular-app" aria-label="Permalink to &quot;Creating a Consumer Angular App&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">提示</p><p>If you already have an Angular app, skip this section.</p></div><p>From your Angular workspace (<code>/packages/angular-workspace</code>), run the following command to generate an Angular application:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@angular/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ng</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">generate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-app</span></span></code></pre></div><h3 id="consuming-the-angular-wrapper-components" tabindex="-1">Consuming the Angular Wrapper Components <a class="header-anchor" href="#consuming-the-angular-wrapper-components" aria-label="Permalink to &quot;Consuming the Angular Wrapper Components&quot;">​</a></h3><p>This section covers how developers consuming your Angular component wrappers will use your package and component wrappers.</p><p>In order to use the generated component wrappers in the Angular app, you&#39;ll first need to build your Angular component library. From the root of your Angular workspace (<code>/packages/angular-workspace</code>), run the following command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@angular/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ng</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">component-library</span></span></code></pre></div><p>Now you can reference your component library as a standard import. If you distributed your components through a primary <code>NgModule</code>, you can simply import that module into an implementation to use your components.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app.module.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ComponentLibraryModule</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">component-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">NgModule</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">imports</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [ComponentLibraryModule]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppModule</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span></code></pre></div><p>You can now directly leverage your components in their template and take advantage of Angular template binding syntax.</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- app.component.html --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">my-component</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">first</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Your</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">last</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">my-component</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>From your Angular workspace (<code>/packages/angular-workspace</code>), run <code>npm start</code> and navigate to <code>localhost:4200</code>. You should see the component rendered correctly.</p><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h3 id="componentcorepackage" tabindex="-1">componentCorePackage <a class="header-anchor" href="#componentcorepackage" aria-label="Permalink to &quot;componentCorePackage&quot;">​</a></h3><p><strong>Required</strong></p><p><strong>Type: <code>string</code></strong></p><p>The name of the Stencil package where components are available for consumers (i.e. the value of the <code>name</code> property in your Stencil component library&#39;s <code>package.json</code>). This is used during compilation to write the correct imports for components.</p><p>For a starter Stencil project generated by running:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stencil</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">component</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-component-lib</span></span></code></pre></div><p>The <code>componentCorePackage</code> would be set to:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// stencil.config.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">outputTargets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">angularOutputTarget</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">componentCorePackage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">my-component-lib</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// ... additional config options</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Which would result in an import path like:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MyComponent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-component-lib/components/my-component.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="customelementsdir" tabindex="-1">customElementsDir <a class="header-anchor" href="#customelementsdir" aria-label="Permalink to &quot;customElementsDir&quot;">​</a></h3><p><strong>Optional</strong></p><p><strong>Default: &#39;dist/components&#39;</strong></p><p><strong>Type: <code>string</code></strong></p><p>If <a href="#includeimportcustomelements">includeImportCustomElements</a> is <code>true</code>, this option can be used to specify the directory where the generated custom elements live. This value only needs to be set if the <code>dir</code> field on the <code>dist-custom-elements</code> output target was set to something other than the default directory.</p><h3 id="excludecomponents" tabindex="-1">excludeComponents <a class="header-anchor" href="#excludecomponents" aria-label="Permalink to &quot;excludeComponents&quot;">​</a></h3><p><strong>Optional</strong></p><p><strong>Default: <code>[]</code></strong></p><p><strong>Type: <code>string[]</code></strong></p><p>This lets you specify component tag names for which you don&#39;t want to generate Angular wrapper components. This is useful if you need to write framework-specific versions of components. For instance, in Ionic Framework, this is used for routing components - like tabs - so that Ionic Framework can integrate better with Angular&#39;s Router.</p><h3 id="directivesarrayfile" tabindex="-1">directivesArrayFile <a class="header-anchor" href="#directivesarrayfile" aria-label="Permalink to &quot;directivesArrayFile&quot;">​</a></h3><p><strong>Optional</strong></p><p><strong>Default: <code>null</code></strong></p><p><strong>Type: <code>string</code></strong></p><p>Used to provide a list of type Proxies to the Angular Component Library. See <a href="https://github.com/ionic-team/ionic-framework/blob/main/angular/src/directives/proxies-list.ts" target="_blank" rel="noreferrer">Ionic Framework</a> for a sample.</p><h3 id="directivesproxyfile" tabindex="-1">directivesProxyFile <a class="header-anchor" href="#directivesproxyfile" aria-label="Permalink to &quot;directivesProxyFile&quot;">​</a></h3><p><strong>Required</strong></p><p><strong>Type: <code>string</code></strong></p><p>This parameter allows you to name the file that contains all the component wrapper definitions produced during the compilation process. This is the first file you should import in your Angular project.</p><h3 id="includeimportcustomelements" tabindex="-1">includeImportCustomElements <a class="header-anchor" href="#includeimportcustomelements" aria-label="Permalink to &quot;includeImportCustomElements&quot;">​</a></h3><p><strong>Optional</strong></p><p><strong>Default: <code>false</code></strong></p><p><strong>Type: <code>boolean</code></strong></p><p>If <code>true</code>, Angular components will import and define elements from the <code>dist-custom-elements</code> build, rather than <code>dist</code>. For more information on using the <code>dist-custom-elements</code> output for the Angular proxies, see the <a href="#do-i-have-to-use-the-dist-output-target">FAQ answer below</a>.</p><h3 id="includesinglecomponentangularmodules" tabindex="-1">includeSingleComponentAngularModules <a class="header-anchor" href="#includesinglecomponentangularmodules" aria-label="Permalink to &quot;includeSingleComponentAngularModules&quot;">​</a></h3><p><strong>Optional</strong></p><p><strong>Default: <code>false</code></strong></p><p><strong>Type: <code>boolean</code></strong></p><p><strong>Available Since: <code>@stencil/angular-output-target@v0.6.0</code></strong></p><p><strong>Experimental:</strong> This flag and its behaviors are subject to change at any time.</p><p>If <code>true</code>, an Angular module will be generated for each component. This option requires that <code>includeImportCustomElements</code> is set to <code>true</code>.</p><h3 id="valueaccessorconfigs" tabindex="-1">valueAccessorConfigs <a class="header-anchor" href="#valueaccessorconfigs" aria-label="Permalink to &quot;valueAccessorConfigs&quot;">​</a></h3><p><strong>Optional</strong></p><p><strong>Default: <code>[]</code></strong></p><p><strong>Type: <code>ValueAccessorConfig[]</code></strong></p><p>This lets you define which components should be integrated with <code>ngModel</code> (i.e. form components). It lets you set what the target prop is (i.e. <code>value</code>), which event will cause the target prop to change, and more.</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> angularValueAccessorBindings</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ValueAccessorConfig</span><span style="color:#A6ACCD;">[] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">elementSelectors</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-input[type=text]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">event</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">myChange</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">targetAttr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">value</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stencil-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">outputTargets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">angularOutputTarget</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">componentCorePackage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">component-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">directivesProxyFile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{path to your proxy file}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">valueAccessorConfigs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> angularValueAccessorBindings</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">esmLoaderPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><h2 id="faqs" tabindex="-1">FAQs <a class="header-anchor" href="#faqs" aria-label="Permalink to &quot;FAQs&quot;">​</a></h2><h3 id="do-i-have-to-use-the-dist-output-target" tabindex="-1">Do I have to use the <code>dist</code> output target? <a class="header-anchor" href="#do-i-have-to-use-the-dist-output-target" aria-label="Permalink to &quot;Do I have to use the \`dist\` output target?&quot;">​</a></h3><p>No! By default, this output target will look to use the <code>dist</code> output, but the output from <code>dist-custom-elements</code> can be used alternatively.</p><p>To do so, simply set the <code>includeImportCustomElements</code> option in the output target&#39;s config and ensure the <a href="./../output-targets/custom-elements.html">custom elements output target</a> is added to the Stencil config&#39;s output target array:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// stencil.config.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">outputTargets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Needs to be included</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist-custom-elements</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">angularOutputTarget</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">componentCorePackage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">component-library</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">directivesProxyFile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{path to your proxy file}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// This is what tells the target to use the custom elements output</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">includeImportCustomElements</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Now, all generated imports will point to the default directory for the custom elements output. If you specified a different directory using the <code>dir</code> property for <code>dist-custom-elements</code>, you need to also specify that directory for the Angular output target. See <a href="#customelementsdir">the API section</a> for more information.</p><p>In addition, all the Web Component will be automatically defined as the generated component modules are bootstrapped. So, you do not need to implement the Stencil loader for lazy-loading the custom elements (i.e. you can remove the <code>APP_INITIALIZER</code> logic introduced <a href="#adding-the-angular-output-target">in this section</a>). As such, the generated Angular components can now be directly imported and declared on any Angular module implementing them:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app.module.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MyComponent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">component-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">NgModule</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">declarations</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [MyComponent]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppModule</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span></code></pre></div><h3 id="what-is-the-best-format-to-write-event-names" tabindex="-1">What is the best format to write event names? <a class="header-anchor" href="#what-is-the-best-format-to-write-event-names" aria-label="Permalink to &quot;What is the best format to write event names?&quot;">​</a></h3><p>Event names shouldn’t include special characters when initially written in Stencil, try to lean on using camelCased event names for interoperability between frameworks.</p><h3 id="how-do-i-bind-input-events-directly-to-a-value-accessor" tabindex="-1">How do I bind input events directly to a value accessor? <a class="header-anchor" href="#how-do-i-bind-input-events-directly-to-a-value-accessor" aria-label="Permalink to &quot;How do I bind input events directly to a value accessor?&quot;">​</a></h3><p>You can configure how your input events can map directly to a value accessor, allowing two-way data-binding to be a built in feature of any of your components. Take a look at <a href="#valueaccessorconfigs">valueAccessorConfig&#39;s option above</a>.</p><h3 id="how-do-i-access-components-with-viewchild-or-viewchildren" tabindex="-1">How do I access components with ViewChild or ViewChildren? <a class="header-anchor" href="#how-do-i-access-components-with-viewchild-or-viewchildren" aria-label="Permalink to &quot;How do I access components with ViewChild or ViewChildren?&quot;">​</a></h3><p>Once included, components could be referenced in your code using <code>ViewChild</code> and <code>ViewChildren</code> as in the following example:</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Component</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElementRef</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ViewChild</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@angular/core</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">TestComponent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test-components</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Component</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">selector</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app-home</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">&lt;test-components #test&gt;&lt;/test-components&gt;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">styleUrls</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./home.component.scss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">HomeComponent</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">ViewChild</span><span style="color:#A6ACCD;">(TestComponent) </span><span style="color:#F07178;">myTestComponent</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ElementRef</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TestComponent</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">onAction</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">myTestComponent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nativeElement</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">testComponentMethod</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="why-aren-t-my-custom-interfaces-exported-from-within-the-index-d-ts-file" tabindex="-1">Why aren&#39;t my custom interfaces exported from within the index.d.ts file? <a class="header-anchor" href="#why-aren-t-my-custom-interfaces-exported-from-within-the-index-d-ts-file" aria-label="Permalink to &quot;Why aren&#39;t my custom interfaces exported from within the index.d.ts file?&quot;">​</a></h3><p>Usually when beginning this process, you may bump into a situation where you find that some of the interfaces you&#39;ve used in your Stencil component library aren&#39;t working in your Angular component library. You can resolve this issue by adding an <code>interfaces.d.ts</code> file located within the root of your Stencil component library&#39;s project folder, then manually exporting types from that file e.g. <code>export * from &#39;./components&#39;;</code></p><p>When adding this file, it&#39;s also recommended to update your package.json&#39;s types property to be the distributed file, something like: <code>&quot;types&quot;: &quot;dist/types/interfaces.d.ts&quot;</code></p>`,137),p=[l];function t(c,r,i,y,D,C){return n(),a("div",null,p)}const F=s(e,[["render",t]]);export{u as __pageData,F as default};
