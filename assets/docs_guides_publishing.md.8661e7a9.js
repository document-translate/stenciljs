import{_ as s,o,c as a,X as n}from"./chunks/framework.319defb2.js";const u=JSON.parse('{"title":"发布组件库","description":"发布组件库","frontmatter":{"description":"发布组件库"},"headers":[],"relativePath":"docs/guides/publishing.md","filePath":"docs/guides/publishing.md"}'),t={name:"docs/guides/publishing.md"},e=n(`<h1 id="发布组件库" tabindex="-1">发布组件库 <a class="header-anchor" href="#发布组件库" aria-label="Permalink to &quot;发布组件库&quot;">​</a></h1><p>有许多策略可以发布和分发组件库以供外部项目使用。Stencil 的一个好处是可以很容易地生成适合你用例的各种<a href="./../output-targets/overview.html">输出目标</a>。</p><h2 id="发布到-npm" tabindex="-1">发布到 NPM <a class="header-anchor" href="#发布到-npm" aria-label="Permalink to &quot;发布到 NPM&quot;">​</a></h2><p>第一步，也是强烈推荐的一步是<a href="https://docs.npmjs.com/getting-started/publishing-npm-packages" target="_blank" rel="noreferrer">发布组件库到 NPM</a>。 NPM 是一个在线软件注册中心，用于共享库、工具、实用程序和包等。一旦这个库发布到 NPM 上，其他项目就可以将你的组件库作为依赖添加到它们自己的项目中，并在自己的项目中使用这些组件。</p><h2 id="package-json" tabindex="-1"><code>package.json</code> <a class="header-anchor" href="#package-json" aria-label="Permalink to &quot;\`package.json\`&quot;">​</a></h2><p><code>package.json</code> 文件的目的是向其他工具提供如何查找包文件的说明，并提供有关包的信息。 例如，打包工具如 <a href="https://rollupjs.org/" target="_blank" rel="noreferrer">Rollup</a> 和 <a href="https://webpack.js.org/" target="_blank" rel="noreferrer">Webpack</a> 使用此配置来定位项目的入口文件。</p><p>使用编译器的一个好处是，它能够提供关于如何最好地设置发行版项目的帮助。以下是在项目的 <code>package.json</code> 文件中常见的设置:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/index.cjs.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">es2015</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/esm/index.mjs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">es2017</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/esm/index.mjs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/types/components.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">unpkg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/my-project-name/my-project-name.esm.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">collection:main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/collection/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">collection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/collection/collection-manifest.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">files</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">css/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loader/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><table><thead><tr><th>Property</th><th>描述</th><th>推荐</th></tr></thead><tbody><tr><td><code>main</code></td><td>CommonJS 模块的入口文件</td><td><code>dist/index.cjs.js</code></td></tr><tr><td><code>module</code></td><td>ES 模块的入口文件， ES 模块是标准化的推荐格式</td><td><code>dist/index.js</code></td></tr><tr><td><code>es2015</code></td><td>通常用于框架打包。</td><td><code>dist/esm/index.mjs</code></td></tr><tr><td><code>es2017</code></td><td>通常用于框架打包。</td><td><code>dist/esm/index.mjs</code></td></tr><tr><td><code>types</code></td><td>项目类型的入口文件。</td><td><code>dist/types/components.d.ts</code></td></tr><tr><td><code>unpkg</code></td><td>项目 <a href="https://unpkg.com/" target="_blank" rel="noreferrer">unpkg</a> CDN 请求的入口文件。</td><td><code>dist/{NAMESPACE}/{NAMESPACE}.js</code></td></tr><tr><td><code>files</code></td><td>npm 发行版中应该包含的文件数组。</td><td><code>[&quot;dist/&quot;, &quot;loader/&quot;]</code></td></tr></tbody></table><p><code>collection</code>属性用于在其他 Stencil 应用程序中延迟加载。</p><div class="info custom-block"><p class="custom-block-title">提示</p><p>如果你同时分发了 <code>dist</code> 和 <code>dist-custom-elements</code>，那么最好选择其中一个作为主要入口。</p></div>`,11),l=[e];function p(c,r,D,d,F,y){return o(),a("div",null,l)}const C=s(t,[["render",p]]);export{u as __pageData,C as default};
